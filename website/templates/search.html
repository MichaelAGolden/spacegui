{% extends 'base.html' %}
{% import "ship/ship_templates.html" as ship %}
{% import "map/system_templates.html" as system %}
{% import "map/waypoint_templates.html" as waypoint %}
{% block title %}
Search
{% endblock %}
{% block body %}
    <div class="row">
        <div class="list-group list-group-flush left-margin" style="max-width: 70%;">
            {% for ship in ships %}
                {{ ship.ship_list(ship) }}
            {% endfor %}
            {% for item in map %}
                {% if item.__class__.__name__ == "System" %}
                    {{ system.system_list(item) }}
                {# TODO: Fix hacks #}
                {% else %}
                    {{ waypoint.waypoint_list(item) }}
                {% endif %}
            {% endfor %}
        </div>
    </div>
    <script>
        // TODO: fix literal hack
        $("#search-box").val("{{ query|safe }}");
    </script>
{% endblock %}
{% block navid %}search-bar{% endblock %}